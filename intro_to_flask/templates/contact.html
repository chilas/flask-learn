{% extends "layout.html" %}
{% from "macros.html" import render_field %}

{% block content %}
    <h2>Contact</h2>

    {% if success %}
        <p>Thank you for your message. We will get back to you shortly.</p>
    {% else %}
        {% for message in form.name.errors %}
            <div class="flash">{{ message }}</div>
        {% endfor %}

        {% for message in form.email.errors %}
            <div class="flash">{{ message }}</div>
        {% endfor %}

        {% for message in form.subject.errors %}
            <div class="flash">{{ message }}</div>
        {% endfor %}

        {% for message in form.message.errors %}
            <div class="flash">{{ message }}</div>
        {% endfor %}


        <form action="{{ url_for('contact') }}" method=POST>
            {{ form.hidden_tag() }}
            {{ render_field(form.name) }}
            {{ render_field(form.email) }}
            {{ render_field(form.subject) }}
            {{ render_field(form.message) }}
            {{ render_field(form.submit) }}
        </form>

    {% endif %}
{% endblock %}